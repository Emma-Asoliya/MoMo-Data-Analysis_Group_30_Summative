<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SMS Data Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <h1>MOMO Tracker</h1>

    <!-- Filters -->
    <div class="filters">
      <label for="category">Filter by Category:</label>
      <select id="category" onchange="loadData()">
        <option value="Airtime Purchases">Airtime Purchases</option>
        <option value="Bank Deposits">Bank Deposits</option>
        <option value="Cash Power Purchases">Cash Power Purchases</option>
        <option value="Incoming Money">Incoming Money</option>
        <option value="Internet and Voice Bundles">
          Internet and Voice Bundles
        </option>
        <option value="Payments to Code Holders">
          Payments to Code Holders
        </option>
        <option value="Third Party Transactions">
          Third Party Transactions
        </option>
        <option value="Transfers to Mobile Numbers">
          Transfers to Mobile Numbers
        </option>
        <option value="Withdrawals from Agents">Withdrawals from Agents</option>
      </select>

      <label for="start-date">From:</label>
      <input type="date" id="start-date" onchange="applyFilters()" />

      <label for="end-date">To:</label>
      <input type="date" id="end-date" onchange="applyFilters()" />

      <label for="min-amount">Min Amount:</label>
      <input
        type="number"
        id="min-amount"
        placeholder="Min"
        oninput="applyFilters()"
      />

      <label for="max-amount">Max Amount:</label>
      <input
        type="number"
        id="max-amount"
        placeholder="Max"
        oninput="applyFilters()"
      />

      <label for="search">Search:</label>
      <input
        type="text"
        id="search"
        placeholder="Search transaction"
        oninput="applyFilters()"
      />
    </div>

    <!-- Loader -->
    <div id="loader" class="loader"></div>

    <!-- Totals -->
    <h3>Total Messages: <span id="total-messages">0</span></h3>
    <h3>Total Amount: <span id="total-amount">0</span> RWF</h3>

    <!-- Chart Section -->
    <canvas id="chart" width="400" height="200"></canvas>

    <!-- Modal for Detailed Transaction View -->
    <div id="transaction-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Transaction Details</h2>
        <p id="transaction-details"></p>
      </div>
    </div>

    <!-- Table -->
    <!-- Table -->

    <div class="tableContainer">
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Time</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody id="data-table"></tbody>
      </table>
    </div>

    <script src="./script.js"></script>
  </body>
</html>
